<!DOCTYPE html>
<html lang="no">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=2.5, width=device-width, height=device-height"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Industriell IT - eksamensark</title>
    <link rel="stylesheet" href="css/exam-paper.css" />
  </head>
  <body>
    <div class="wrapper" page="1">
      <section>
        <div class="row">
          <div class="clear">
            <div class="w2 fl br">
              <h2>Obliger</h2>
              <h3>Oblig 1 - Del A</h3>
              <h4>Oppgave 1</h4>
              <p class="tl q">
                Lag en «egen»XOR port med AND og OR porter. Bruk Ladder (LD)
                eller funksjonsblokker (FBD) for å løse oppgaven. Programmer
                løsningen i Codesys med et egnet HMI.
              </p>

              <h4 class="bt">Oppgave 2</h4>
              <p class="tl q">
                Lag et FBD-program i Codesys med et HMI for et enkelt lyskryss
                som følger tidspunkter gitt nedenfor. Løs først nord-syd
                NS-retningen. Bruk en bryter (start/stopp) for å starte stoppe
                lyskrysset.
              </p>
            </div>
            <div class="w6 fl br">
              <p class="fss"><strong>opg1: Med ladder</strong></p>
              <img class="bb" src="https://i.xdh.no/13ac0c442f69" alt="" />
              <p class="fss"><strong>opg1: Med FBD</strong></p>
              <img src="https://i.xdh.no/d48e9f5f4072" alt="" />
            </div>
            <div class="w2 fl br">
              <p class="fss"><strong>opg1: HMI for alle</strong></p>
              <img class="bb" src="https://i.xdh.no/fe9c0dbd0844" alt="" />
              <p class="fss tl"><strong>opg1: Med strukturert tekst</strong></p>
              <img src="https://i.xdh.no/4b45aa7153ee" alt="" />
            </div>
          </div>

          <div class="clear">
            <div class="w2 fl bb">
              <p class="tl q">
                Test at det NS-retningen virker. Legg nå til øst-vest
                ØV-retningen.
                <strong>Trafikklyset skal skifte på følgende vis:</strong>
              </p>
              <img src="https://i.xdh.no/8a6d26d5ce55" alt="" />
              <p class="q">Tidsangivelse</p>
              <p class="q"><strong>NS-retningen</strong></p>
              <ul class="nostyle i0 q">
                <li>Rødt : 8 sek</li>
                <li>Rød + Gul: 4 sek</li>
                <li>Grønn: 8 sek</li>
                <li>Gul: 4 sek</li>
              </ul>
              <p><strong>ØV-retningen</strong></p>
              <ul class="nostyle i0 q">
                <li>Grønn: 8 sek</li>
                <li>Gul: 4 sek</li>
                <li>Rød: 8 sek</li>
                <li>Rød + Gul: 4 sek</li>
              </ul>
              <p><strong>HMI</strong></p>
              <img src="https://i.xdh.no/ebce983d53ad" alt="" />
              <img src="https://i.xdh.no/95c680b549af" alt="" />
            </div>
            <img
              class="w7 fl bt br bl"
              src="https://i.xdh.no/76c67e5b984e"
              alt=""
            />
            <div class="w4 fl br bb bl">
              <img src="https://i.xdh.no/6dbf130a8599" alt="" />
            </div>
            <div class="w4 fl bt">
              <h4>Oppgave 3. (Fra eksamen 2011)</h4>
              <p>
                En hermetikkfabrikk har en produksjonslinje for fiskeboller. Et
                transportbånd frakter boksene som produseres til et pakkeanlegg.
                En fotocelle som er montert ved transportbåndet registrerer hver
                boks som passerer. Systemet er konstruert slik at når en boks
                passerer fotocellen (bryter lyset), så gir den logisk 1 (sann).
                Når lyset ikke er brutt gir den logisk 0 (falsk). Produserte
                bokser samles opp i enden av transportbåndet, og når 5 bokser er
                produsert skal de skyves ved hjelp av et stempel inn i esker.
                Stempelet skyver boksene når det får logisk 1 (sann) som en kort
                puls fra logisk 0 til 1 og tilbake til 0 igjen.
              </p>
              <p>
                I tillegg benyttes en startbryter som gir logisk 1 (sann) når
                den er trykket. Den returnerer til logisk 0 (falsk) når den
                slippes, samt en tilsvarende stoppbryter som gir logisk 1 når
                den er trykket, og logisk 0 (falsk) når den er urørt.
                Transportbåndet vil gå når <code>trans_b</code> legges til
                logisk 1 (sann), og vil stoppe når <code>trans_b</code> leggs
                til logisk 0. Figur 4.1 viser en oversikt over inn – og utganger
                som benyttes på PLS’en.
              </p>
              <figure>
                <table class="w10">
                  <thead>
                    <tr>
                      <th></th>
                      <th>Inngang</th>
                      <th>Utgang</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th>Startbryter</th>
                      <td>start_br</td>
                      <td></td>
                    </tr>
                    <tr>
                      <th>Stoppbryter</th>
                      <td>stopp_br</td>
                      <td></td>
                    </tr>
                    <tr>
                      <th>Fotocelle</th>
                      <td>foto_c</td>
                      <td></td>
                    </tr>
                    <tr>
                      <th>Stempel</th>
                      <td></td>
                      <td>stempel</td>
                    </tr>
                    <tr>
                      <th>Transportbånd</th>
                      <td></td>
                      <td>trans_b</td>
                    </tr>
                  </tbody>
                </table>
                <figcaption>
                  Figur 4.1 som viser hvordan inn- og utganger er navngitt i
                  PLS’en
                </figcaption>
              </figure>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <div class="clear">
            <div class="w3 fl ">
              <h4>Oppgave 3. Fortsetter</h4>
              <h5>Oppgave som skal løses</h5>
              <p class="q tl">
                Når startbryteren trykkes (startsignal) skal transportbåndet
                starte. Når en fiskebolleboks passeres fotocellen skal de telles
                med to tellere. Teller_1 skal når den kommer til 5 starte
                stempelet som skyver boksene ut. Samtidig skal telleren
                resettes, slik at den kan telle opp 5 nye bokser. Teller_2 skal
                være en akkumulerende teller som teller alle bokser som er
                produsert etter at startbryteren ble trykket. Den skal ha en
                Preset Value på 10000. Når det er produsert 10000 bokser skal
                teller_2 resettes. Når stoppbryteren blir trykket skal
                transportbåndet stoppe, og teller_2 skal resettes
              </p>
            </div>
            <img
              class="w7 fl"
              src="https://i.xdh.no/11bc35b78271"
              alt="Løsning for oblig 1a oppgave 3 - Codesys logikk"
            />
          </div>

          <div class="clear">
            <p class="w3 fl tl a bt bb">
              <strong>Løsning</strong> Ettersom start- og stoppbryterne er
              touch-brytere må vi sikre at verdiene holdes med en RS-vippe.
              Benytter 2 timere. Resetter timere etter gitt krav. Ettersom både
              stopp-knappen og når teller_2 har kommet til 10000 bokser kan
              restte teller_2 så benytter vi en eller-blokk for disse.
            </p>
            <img
              class="w2 fl bb"
              src="https://i.xdh.no/90e4439573a3"
              alt="Løsning for oblig 1a oppgave 3 - HMS"
            />
            <div class="w5 fr bl bt">
              <h3>Oblig 1 - Del B</h3>
              <h4>Oppgave 1A</h4>
              <p class="q">
                Tegn et blokkskjema for et generelt reguleringssystem. Forklar
                kort hvilke blokker som inngår. Redegjør kort for hva som er
                hovedoppgavene til et reguleringssystem.
              </p>
              <div class="a bb">
                <figure>
                  <img
                    src="https://i.xdh.no/f0614a2e5208"
                    alt="Figur. Blokker i et generelt reguleringssystem"
                  />
                  <figcaption>
                    Figur. Blokker i et generelt reguleringssystem.
                  </figcaption>
                </figure>
                <p>
                  Blokkene er forklart i kompendiet «Intro til reg_tek». Et
                  <strong>reguleringssystem</strong> kan ha flere hovedoppgaver
                  som;
                </p>
                <ul>
                  <li>Holde utgangen mest mulig lik referansen.</li>
                  <li>Eliminerer innvirkning av forstyrelser</li>
                  <li>Holde reg.syetmet stabilt under ulike driftsforhold</li>
                  <li>Minst mulig påvirket av endringer i prosessparametre</li>
                </ul>
              </div>
            </div>
            <div class="w10">
              <h4>Oppgave 1B</h4>
              <div class="q">
                <p>
                  Du skal lage et system for regulering av hastigheten på en
                  bil. (Cruisekontroll). Forklar hvilke komponenter/moduler du
                  vil trenge for å lage et slikt system. Tegn et blokkskjema som
                  viser hvordan komponentene inngår. Forklar kort begrepene:
                </p>
                <ul class="inline2">
                  <li>Avvik</li>
                  <li>Pådrag</li>
                  <li>Tilstand</li>
                  <li>Forstyrrelse</li>
                </ul>
              </div>
              <div class="a">
                <p>
                  Vi må lage et <strong>tilbakekoblet system</strong> med en
                  regulator som påvirker/regulerer hastigheten til bilen. Vil
                  trenge: Regulator, pådragsorgan som styrer bensin/diesel
                  innsprøytning, prosessen (bilen), måleelement som måler
                  hastigheten. Er det en elektrisk bil kan vi styre elmotorene
                  med kraftforsterkere
                </p>
                <div class="clear bb">
                  <figure class="w6 fl">
                    <img src="https://i.xdh.no/9c9797fbd020" alt="" />
                    <figcaption>
                      Figur. Et typisk tilbakekoblet system.
                    </figcaption>
                  </figure>
                  <ul class="w4 fr">
                    <li>
                      <strong>Avvik</strong>: Differensen mellom ønsket verdi og
                      målt verdi. Angis med: e(t)
                    </li>
                    <li>
                      <strong>Pådrag</strong>: utgangen fra regulatoren som skal
                      drive prosessen i riktig retning. Angis med: u(t)
                    </li>
                    <li>
                      <strong>Tilstand</strong>: En karakteristisk størrelse som
                      beskriver prosessen. F.eks temperaturen i et rom. Kalles
                      også prosessvariabel. x(t)
                    </li>
                    <li>
                      <strong>Forstyrrelse</strong>: utilsiktet påvirkning som
                      vi ikke har ”styring” på. F.eks en motbakke når vi kjører
                      bil.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="clear">
            <div class="w66 fl">
              <h4>Oppgave 1C</h4>
              <p>
                <span class="q">
                  Hvorfor benyttes pådragsorganer i en reguleringssløyfe? Nevn
                  noen typiske pådragsorganer?
                </span>

                <span class="a">
                  Pådragsorgan benyttes for å forsterke opp pådragssignalet fra
                  regulatoren. En regulator gir kun ut svake signaler som f.eks
                  4 -> 20mA. Et slikt signal må forsterkes for å kunne gi noe
                  effekt på en prosess. <strong>Typiske pådragsorgan</strong>;

                  <span class="i1">ventiler</span>
                  <span class="i1">elektriske forsterkere</span>
                  <span class="i1">motorer</span> <span class="i1">pumper</span>
                </span>
              </p>
            </div>

            <div class="w33 fr sl">
              <h4>Oppgave 1D</h4>
              <p class="q">
                Hvilke standardiserte signalverdier (strøm, spenning) benyttes i
                en reguleringssløyfe?
              </p>
              <p class="a">
                <strong>Typisk signalverdier</strong> er:
                <span class="i1">4 - 20mA</span>
                <span class="i1">0 – 10 Volt</span>
                <span class="i1">1 - 5 Volt </span>
                <span class="i1">3 - 15 PSI</span>
              </p>
            </div>
          </div>

          <div class="clear">
            <div class="w45 fl">
              <h4>Oppgave 1E</h4>
              <p class="q">
                Du skal lage et system som overvåker en pasient på et sykehus
                (eller hjemme for den saks skyld). Hva slags type «informasjon»
                kan det være interessant å måle/overvåke?
              </p>
              <p class="a tl">
                Her er det mange «tilstander» som kan være interessant å
                måle/overvåke: På selve pasienten: Puls, blodtrykk, hjerterytme,
                oksygen i blodet, blodsukker, kroppstemperatur, fuktighet...
                (Andre parametere kan være kolesterol, blodprosent, samt
                x-antall andre parametere som kan måles via blodprøver). Andre
                tilstander kan være bevegelse, fall, i hvilket rom man er,
                lysforhold, lyd, temperatur, ...
              </p>

              <h4>Oppgave 4</h4>
              <p class="q tl">
                Gitt følgende integral:
                <span class="katex">y = \int_{a}^{b} f(x) dx</span>
                <span class="katex i2">f(x) = 30x^3 - 8x^2 + 4x + 10</span>
                Beregn selv hva det korrekte svaret er når:
                <span class="katex">a=0 \quad b=3</span> Bruk nå Matlab til å
                integrere uttrykket. Kommenter nøyaktigheten i svaret
              </p>
            </div>
            <img class="w55 fr sl" src="https://i.xdh.no/b0be7a777b08" alt="" />
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <div class="cols cols-2 bb">
            <h4>Oppgave 6</h4>
            <p class="q">
              Et system kan beskrives med følgende differensialligning;
              <span class="katex">20\dot{x} + 10x = f(t)</span>
            </p>
            <p class="q">
              <span class="katex">f(t) = inngang</span>
              <span class="katex">x(t) = utgang</span> Finn transferfunksjonen
              som beskriver systemet gitt i ligning 1. Forklar kort hva en
              transferfunksjon uttrykker/beskriver (på generell basis). Anta at
              f(t) er et enhetssprang ved t=0.
            </p>
            <p class="a bt">
              Finner transferfunksjonen ved å benytte Laplace på hvert ledd.
              <span class="katex">20s \cdot X(s) + 10X(s) = F(s)</span>
              <span class="katex">(20 + 10s)X(s) = F(s)</span>
              <span class="katex"
                >\dfrac{X(s)}{F(s)} = H(s) = \dfrac{1}{20s + 10} =
                \dfrac{0.1}{2s + 1}</span
              >
            </p>
            <p class="a tl">
              Vi har nå funnet transferfunksjonen som beskriver systemet. En
              transferfunksjon er en beskrivelse av et system (modell) i s-plan.
              Beskriver sammenhengen mellom inngang og utgang i systemet.
              <span class="katex"
                >f(t) - enhetssprang \rightarrow F(s) = 1/s</span
              >
              <span class="katex"
                >X(s) = H(s) \cdot F(s) = \dfrac{0.1}{s(2s + 1)}</span
              >
            </p>
            <p class="a">
              Invers Laplace gir;
              <span class="katex">x(t) = 0.1(1-e^{-0.5t})</span>
            </p>

            <h4>Oppgave 7</h4>
            <p class="q">
              Gitt at du har en differensialligning som beskrevet nedenfor der
              y(t) er utgangen og x(t) er inngangen. Hva blir transferfunksjonen
              til dette systemet?
              <span class="katex"
                >\ddot{y}(t) + 4\dot{y}(t) + 3y(t) = x(t)</span
              >
              Hva blir Y(s) gitt at x(t) er et enhets-sprang?
            </p>
            <p class="a bt">
              Må Laplacetransformere ledd for ledd. Initialtilstander settes lik
              0. Vi får da:
              <span class="katex">
                s^2 \cdot Y(s) + 4s \cdot Y(s) + 3Y(s) = X(s)
              </span>
              <span class="katex"> Y(s) \cdot (s^2 + 4s + 3) = X(s) </span>
              <span class="katex">
                \dfrac{Y(s)}{X(s)} = H(s) = \dfrac{1}{s^2 + 4s + 3}
              </span>
            </p>
            <p class="a">
              <span class="katex">X(s)</span> skal være et enhetssprang
              <span class="katex">\rightarrow X(s) = 1/s</span>
            </p>
            <p class="a tl">
              Finner da:
              <span class="katex">
                Y(s) = H(s) \cdot X(s) = \dfrac{1}{s(s+3)(s+1)}
              </span>
            </p>
            <p class="a">
              Vi finner <span class="katex">y(t)</span> ved å ta invers Laplace
              av uttrykket <span class="katex">Y(s)</span>.
            </p>
            <h4>Oppgave 9</h4>
            <p class="q">
              Et fjæringssystem på en bil har følgende transferfunksjon;
              <span class="katex">H(s) = \dfrac{10}{s^2 + 0.8s + 4}</span>
            </p>
            <p class="q">
              <strong>A.</strong> Beregn hva systemets poler er. Hvordan vil du
              klassifisere polene til systemet? Skisser hvordan du vil forvente
              at sprangresponsen blir?
            </p>
            <p class="a">Setter nevneren = 0.</p>
            <p class="a">
              <span class="katex">s^2 + 0.8s + 4 = 0</span>
              <span class="katex"
                >s = \dfrac{-0.8 \pm \sqrt{0.8^2 - 4 \cdot 1 \cdot 4}}{2 \cdot
                1}</span
              >
              <span class="katex">= \dfrac{-0.8 \pm \sqrt{0.64 - 16}}{2}</span>
              <span class="katex">= \dfrac{-0.8 \pm \sqrt{15.36}}{2}</span>
              <span class="katex">s_1 = -0.4 + 1.96i</span>
              <span class="katex"
                >\underline{\underline{s_2 = -0.4 - 1.96i}}</span
              >
            </p>
            <p class="a">
              Vi klassifiserer polene til systemet som kompleks konjugerte.
              Polene har negativ realdel dermed er systemet stabilt. Et system
              med kompleks konjugerte poler vil ha en sprangrespons med
              oversving. Systemer er stabilt og svinger seg inn mot en stabil
              verdi.
            </p>
            <img src="https://i.xdh.no/5c29b3847cd7" alt="Sprangrespons" />
            <p class="q">
              <strong>B.</strong> Hva vil det si at et system har en
              resonansfrekvens?
            </p>
            <p class="a tl">
              <code>Robert sin forklaring:</code> Hvis frekvensresponsen viser
              en <strong>forstrekningstopp</strong> ved en gitt frekvens så har
              systemet en <strong>resonansfrekvens</strong>.
            </p>
            <p class="a tl">
              <code>Vår forklaring:</code> Resonansfrekvens er en frekvens hvor
              det fortsetter å svinge av seg selv når svingningene først er satt
              i gang og svingebevegelsene ikke blir dempet.
            </p>
          </div>

          <h3>Oblig 2</h3>
          <p>
            <em
              ><strong
                >Hvorfor må et reguleringssystem ha stabilitetsmarginer?</strong
              >
              Forklar kort hvilke marginer man normalt benytter i et
              reguleringssystem og hvilken praktisk betydning de har.</em
            >
          </p>
          <p>
            Stabilitetsmarginer er nødvendig for at reguleringssystemet skal
            være stabilt. Desto større marginer jo mer stabilt er systemet.
            Ettersom et reg.ssytem skal fungere under ulike driftsforhold og
            over lang tid er det nødvendig med akseptable marginer.Vi setter
            krav til fasemargin. Den bør normalt være på minst 45 grader. Velges
            60 grader fårman et godt stabilt system. Pidtune() i Matlab benytter
            60 grader fasemargin for tuning av parametere. Forsterkningsmarginen
            bør være på minst 6dB. Det betyr at vi skal kunne doble
            regulatorforsterkningen uten at reg.systemet blir ustabilt.
          </p>

          <p>
            <em
              ><strong>For å undersøke stabilitet </strong>til et
              reguleringssystem kan man benytte frekvensrespons. Forklar kort
              hva det er man undersøker frekvensresponsen til? Anta at du har
              bestemt en fornuftig regulator i reguleringssystemet og ønsker å
              simulere hvordan utgangen (prosessverdien) følger setpunktet i
              Matlab med step-funksjonen.Hvilken funksjon (matematisk uttrykk)
              må man beregne før man kan benytte step-funksjonen?</em
            >
          </p>
          <p>
            Man må finne systemets åpne sløyfetransferfunksjon A(s).
            Frekvensresponsen til A(s) vil være utgangspunktet for å finne en
            «optimal» regulator. For å simulere responsen til hele
            reguleringssystemet må vi beregne følgeforholdet M(s). Hvis systemet
            har enhets tilbakekobling blir
            <span class="katex">M(s) = \frac{A(s)}{1+A(s)}</span>. Matlab
            beregner dette enkelt, og så kan vi benytte step-funksjonen på M(s).
          </p>

          <p>
            <strong
              >Nevn noen prosesser som blir regulert med av/på-regulering. </strong
            ><em
              >Hvordan varierer pådraget og utgangen (prosessverdien) når
              av/på-regulering benyttes? Tegn en skisse.</em
            >
          </p>
          <p>
            Av/på-regulering kan benyttes i trege prosesser, og der kravet til
            nøyaktighet ikke er store. Eksempler: Temperaturregulering i hus og
            kjøleskap. Nivåregulering i en tank hvor kravet til nivået ikke er
            stort.
          </p>
          <p>
            Ulempene ved av/på-regulering er at den regulerte prosessverdien
            ikke stabiliserer seg på settpunktet. Utgangen vil svinge rundt
            setpunktet, (unøyaktig regulering). I tillegg vil pådragsorganet
            kjøres hardt fra 0 pådrag til 100% pådrag i en evig syklus. Vil
            kunne gi stor «slitasje». Skisse av utgang (prosessverdien) og
            pådraget i en av/på-regulering:
          </p>
          <img
            src="https://i.xdh.no/d31c61b69cfe"
            alt="Skisse av utgang (prosessverdien) og pådraget i en av/på-regulering"
          />
        </div>
      </section>
    </div>
    <div class="wrapper" page="2">
      <section>
        <div class="row">
          <div class="cols cols-2">
            <p class="q">
              <strong
                >Hvilke forbedringer kan vi oppnå med en PID-regulator?</strong
              >
              Forklar hvorfor en PI-regulator kan gi null stasjonær feil?
              Hvilken effekt har derivatvirkningen Td i et reguleringssystem?
            </p>
            <p class="a">
              PID-regulatoren lager 3 bidrag til pådraget basert på avviket
              e(t). De tre bidragene er: Proporsjonalt med avviket – P,
              Integralet av avviket – I, Deriverte av avviket – D. Summen av
              bidragene gir et pådrag som kan innta enhver verdi mellom 0 og
              100%. Det betyr at vi kan finne det helt riktige pådraget som gjør
              at utgangen prosessverdien blir lik setpunktet (ønsket verdi).
              PI-regulatoren integrerer avviket, og da vet vi at så lenge
              avviket ikke er null (perfekt) så vil det genereres et bidrag til
              pådraget som driver avviket mot null. Når avviket er null vil det
              ikke genereres mer bidrag pga av I-delen og vi får null stasjonær
              feil. Derivatvirkningen gjør at regulatoren følger hvor hurtig
              avviket endrer seg. Ved raske endringer i avviket vil regulatoren
              reagerer raskt for å motvirke at det blir et avvik. Fører dermed
              til raskere regulering.
            </p>
            <p class="q">
              Tegn en skisse som viser hvordan pådraget og utgangen
              (prosessverdien) nå varierer.
            </p>
            <img
              class="w8 centered"
              src="https://i.xdh.no/2986f9c1edc3"
              alt="PID"
            />
            <img
              class="w8 centered"
              src="https://i.xdh.no/a09c23c94099"
              alt="PID"
            />
          </div>

          <p class="q">
            <strong>Anta at du benytter en PID-regulator </strong>i et
            reguleringssystem, og at regulatoren er fornuftig innstilt. Hva vil
            normalt skje hvis man øker forsterkningen på regulatoren? Hva vil
            skje hvis man øker integrasjonstiden Ti?
          </p>
          <p class="a">
            Hvis man øker forsterkningen vil reguleringssystemet bli mer
            oscillatorisk. Utgangen vil svinge mer. Når forsterkningen blir stor
            nok blir det fleste reguleringssystemer ustabile. Regulatoren vil da
            slå seg av og på (vandre mellom yttergrensene 0 og 100%). Utgangen
            vil bli en stående svingning. Økes integrasjonstiden Ti vil det bety
            at I-delen vektlegges mindre. Integrasjonseffekten avtar, og
            regulatoren blir en P/PD-regulator, og da vil man normalt få
            stasjonær feil.
          </p>

          <p class="q">
            <strong
              >Anta at vi har konstruert et system som skal regulere nivåeti en
              tank til ønsket nivå.</strong
            >
            Vi har lageten matematisk beskrivelse av systemet som vist i
            blokkdiagrammetfor reguleringssystemet, se figur2.2.
          </p>
          <figure>
            <img
              src="https://i.xdh.no/ead213a8408c"
              alt="et system som skal regulere nivåeti en tank til ønsket nivå"
            />
            <figcaption>
              figur 2.2 - Blokkdiagram for reguleringssystemet
            </figcaption>
          </figure>
          <p class="q">
            <strong>P-reg:</strong> Anta at regulatoren vi først benytter er en
            P-regulator med forsterkning K. Hva blir systemets åpne
            sløyfetransferfunksjon A(s) når K= 1 ? Bestem forsterkningen K slik
            at systemet oppfyller en fasemargin på minst 60 grader og en
            forsterkningsmargin på minst 6dB. Bruk margin()funksjonen i Matlab,
            og løs oppgaven. Du skal nå kunne oppgi følgende verdier som
            beskriver systemet: Hvilken forsterkning K som bør benyttes. Hvilke
            marginer <span class="katex">\psi</span>og
            <span class="katex">\Delta K</span>som er oppnådd? Hva
            <span class="katex">\omega_c</span> og
            <span class="katex">\omega_{180}</span>? Og hva forsterkning
            <span class="katex">K_{krit}</span> som vil gi et ustabilt system
            er?
          </p>

          <div class="clear">
            <div class="fl w4">
              <p class="a">
                Sløyfetransferfunksjonen A(s) benyttes for å bestemme
                PID-parametere og stabilitetesmarginer. Når K=1 blir A(s).
                <span class="katex"> A(s) = \dfrac{1}{(1+4s)(1+50s)(1+s)}</span>
                Legger A(s) inn i Matlab. Plotter bode(a) når K=1 og får
                <span class="katex">\rightarrow</span>
              </p>
              <p class="a bt tl">
                Margin() sier -180 grader fasemargin. Det kommer av at A-kurven
                aldri skjærer odB-linja, og dermed har systemet 180 grader
                fasemargin. (ikke -180) Økes K til f.eks 2 eller 10 så vil vi se
                riktig fasemargin og forsterkningsmargin. Prøver litt
                forskjellige verdier i Matlab og finner fort ut at K=8.4
                oppfyller kravene. Lar margin() vise verdiene med K=8.4. Se
                figuren til høyre.
              </p>
              <p class="a tl">
                Kan nå lese av følgende sentrale verdier: K= 8.4 gir Fasemargin
                = 60.1. Forsterkningsmargin = 18.3dB.
                <span class="katex">\omega_c = 0.143 rad/s</span>
                <span class="katex">\omega_{180} = 0.524 rad/s</span>
              </p>
              <p class="q bt tl">
                <strong>Opg ?</strong> Test systemet i Matlab ved å påtrykke et
                sprang i referansen r(t). Vis responsen y(t).Kommenterhvordan
                systemet fungerer? (Hurtighet, nøyaktighet, stabilitet). Test en
                sprangrespons når du benytter en forsterkning lik Kkrit. Vis
                responsen y(t), og kommenter hvordan systemer fungerer nå. Prøv
                også funksjonen pidtune(), og finn ut hva slags P-regulator den
                anbefaler. Oppgi verdien som pidtune() kommer fram til, og
                kommenter om den er i nærheten av det dere fant med
                margin()-funksjonen.
              </p>
            </div>
            <div class="fl w6">
              <img
                class="a"
                src="https://i.xdh.no/2adea1615179"
                alt="Bode diagram - Sløyfetransferfunksjonen A(s)"
              />
            </div>
            <div class="fr w6">
              <img src="https://i.xdh.no/8bad666642bb" alt="Bode diagram" />
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <p class="a">
            <strong>Svar Opg ?</strong> Finner Kkrit ved å ta forsterkningen som
            er benyttet (8.4), og legge til forsterkningsmarginen 18.3dB. Kkrit
            = 8.4 + 18.3 dB. (Må gjøre om til dB hele veien, og så legge
            sammen.) Regner om 8.4 til dB
            <span class="katex">\rightarrow</span>18.5dB. Kkrit = 18.48+ 18.3 dB
            = 36.78dB som igjen er: 69.0 i ren forsterking. Lar Matlab beregne
            overføringsfunksjonen; M= a/(1+a)når K=8.4. Plotter så
            sprangresponsen med step(M).
          </p>

          <div class="cols cols-2">
            <figure>
              <img
                src="https://i.xdh.no/316ca84be76f"
                alt="Sprangrespons. P-reg med K=8.4"
              />
              <figcaption>
                <p>
                  <strong>Sprangrespons. P-reg med K=8.4</strong> Systemet
                  bruker ca 50 sek på å svinge seg inn. Det er litt tregt system
                  pga prosessen som reguleres er en treg prosess. Ser at
                  stasjoner feil er ca 0.12 (12%). Det er pga at vi ikke
                  benytter en I-virkning. Prøver så en sprangrespons med K=
                  69.0(Kkritisk).
                </p>
              </figcaption>
            </figure>
            <figure>
              <img
                src="https://i.xdh.no/d816cb0e198d"
                alt="Sprangrespons med Kkritisk"
              />
              <figcaption>
                <p>
                  <strong>Sprangrespons. P-reg med K= 69.0</strong>
                  <span class="katex">\rightarrow</span> Gir et ustabiltsystem
                  som forventet. Ved å kjøre pidtune på systemet anbefaler den
                  K= 8.41, og det er helt itråd med det vi fant via margin()
                  testen.
                </p>
              </figcaption>
            </figure>
          </div>

          <p class="q">
            <strong>PI-reg:</strong>Det viser seg at P-regulatoren gir for stor
            stasjonær feil, og en PI-regulatorskal benyttes isteden. Benytt
            igjen margin(), og bestem en PI-regulator som oppfyller kravene i
            2A. Test også ut pidtune(),og finn ut hva slags PI-regulator den
            anbefaler. Oppgi hvilken K og Ti som bør benyttes gitt data fra
            margin() funksjonen. Hva blir <span class="katex">\psi</span> og
            <span class="katex">\Delta K</span> med valgte PI-regulator.
          </p>
          <p class="a">
            Må nå finne Ti. Benytter Wc fra P-reg med K=8.4. (Wc= 0.143 rad/s).
            Benytter:
            <span class="katex"
              >\dfrac{1}{T_i} = \dfrac{\omega_c}{5} \rightarrow T_i =
              \dfrac{5}{\omega_c} = \dfrac{5}{0.143} = 35</span
            >. <span class="i2">, K = 8.4</span>
          </p>
          <p>
            PI-reg som nå benyttes blir:
            <span class="katex"
              >H_{pi}(s) = K \dfrac{(1+T_is)}{T_is} = 8.4 \dfrac{(1+35s)}{35s} =
              0.24 \dfrac{(1+35s)}{s}</span
            >
            A(s) med PI-reg blir:
            <span class="katex"
              >A(s) = \dfrac{0.24(1+35s)}{s(1+4s)(1+50s)(1+s)}</span
            >
          </p>
          <p class="q">
            <strong>Oppgave 3: Hva er det som gjør PLS’er</strong> godt egnet i
            automatiserte systemer? Forklar kort hvilke standardiserte
            programmeringsspråk som kan benyttes for å programmere PLS’er.
            Forklar kort hva programmet Codesys er, og hva vi kan benytte det
            til. Begrepet «POU» dukker opp i forbindelse med programmering av
            PLS’er. Hva er en POU?
          </p>
          <p class="a">
            <strong>PLS’er</strong> er dedikerte datamaskiner med IO for styring
            og regulering. Robuste enheter med stor fleksibilitet for å løse
            styringsoppgaver. Har stor driftsstabilitet, lite feil. Vil kunne
            fungere 24/7. Finnes i alle formater fra små rimelige enheter til
            enheter som kan håndtere tusenvis av I/O. Et programmeringsverktøy
            følger normalt med, slik at en kan utvikle programmene på en PC, og
            overføre kompilert kode til selve PLS’en. Kan programmeres etter IEC
            61131-3 på 5 alternative måter: Instruksjonsliste, Relé/ladder
            diagram, Funksjonsblokker, Strukturert tekst, Sekvensielle
            funksjonskart (SFC)
          </p>
          <p class="a">
            <strong>Codesys</strong> er CODESYS(an acronym for controller
            development system, previously stylised CoDeSys) is a development
            environmentfor programming controller applications according to the
            international industrial standard IEC 61131-3. Codesys benyttes for
            å utvikle kode til PLS’er. Vi kan også lage HMI’er for å simulere
            løsninger.
          </p>
          <p class="a">
            <strong>En POUer</strong> en Program Organiseringsenhet. Det kan ses
            på som et sted hvor man legger; funksjonsblokker, funksjoner, kode,
            program. Vi kan lage benytte POU’er når vi lager PLS-kode. En måte å
            organisere kode på.
          </p>
          <p class="q">
            Du skal utvikle en matematisk modell for et system. Beskriv kort to
            metoder som kan benyttes. Hva kan matematiske modeller benyttes til?
          </p>
          <p class="a">
            En matematisk modell er en beskrivelse av sammenhenger i
            systemer/prosesser. Beskriver et system/prosess med matematiske
            ligninger som gir oss muligheter for analyse og design. Beskriver
            f.eks sammenhengen mellom påvirkninger og responser med matematiske
            uttrykk. Metoder som kan benyttes er: 1.Basert på fysiske lover og
            balanser (fysisk modellering), 2. Eksperimentell analyse ved bruk av
            eksperimenter og databehandling. (System identifikasjon). Modeller
            kan benyttes til: 1. For å simulere systemer, 2. For analyse/design
            av styringssystemer, 3. For å trene operatører i simulatorer, 4. For
            optimal design av systemer, 5. For å lage realistisk dynamikk i
            spill
          </p>

          <div class="cols cols-2 bt bb">
            <p class="q tl">
              <strong
                >Forklar hva et prosess-instrumenteringsdiagram er.</strong
              >
              Hvordan angis Tag’er i slike diagram? Hvordan kan man se av
              symbolet om instrumentet står i et kontrollrom eller ute i
              prosessen? Hva angir følgende tag’er? TIC, TT, TAH, FIC, FT. Sjekk
              på nettet og finn instrumenteringssymboler for: Varmeveksler,
              Reguleringsventil, Pumpe
            </p>
            <p class="a tl">
              <strong>Et P&ID-diagram</strong> er et skjema/tegning som viser
              koblingen av prosessutstyr og instrumenter som benyttes for å
              styre prosessen. Fokuserer på rør, prosessutstyr, instrumentering
              og regulering.
            </p>
            <p class="a tl">
              <strong>Tag’er</strong> angir prosessinstrumenter, men kan også
              benyttes for å angi parameterei prosessutstyr, og
              variabler/symboler i et industrielt IT-system. En måte å angi en
              Tag på er: Ex. 234.67 FIC 172 ( Fabrikk–Avsnitt-Instrumentsymbol
              -Loopnummer). TIC - Temperatur indikerende regulator(control). TT
              - Temperatur Transmitter (måle-elementog overføring av verdi). TAH
              - Temperatur Alarm Høy. FIC - Flow indicating Control. Mengde/flow
              regulator. FT - Flow (mengde) transmitter (måle-elementog
              overføring av verdi)
            </p>
            <p><strong>Symboler:</strong></p>
            <div class="cols cols-3">
              <figure class="tc">
                <img class="centered w6" src="https://i.xdh.no/6218d0bda09e" alt="Varmeveksler" />
                <figcaption>Varmeveksler</figcaption>
              </figure>
              <figure class="tc">
                <img class="centered w6"
                  src="https://i.xdh.no/0e0bbaba4fbf"
                  alt="Regulseringsventil"
                />
                <figcaption>Reguleringsventil</figcaption>
              </figure>
              <figure class="tc">
                <img class="centered w5" src="https://i.xdh.no/fcc62945bf9e" alt="Pumpe" />
                <figcaption>Pumpe</figcaption>
              </figure>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <h3>Oblig 3</h3>
          <p>
            <em
              ><strong>Gitt følgende differensialligning. </strong>(Beskrivelse
              av et fysisk system).
              <span class="katex">\ddot{X} + 0.8\dot{X}+4X(t) = 0.1f(t)</span>
              Anta at alle startbetingelser ved t = 0 er 0. Diskretiser ligning
              1 vha Eulers 1-skritts metode. Vis utledningen og svaret. TIPS!!
              Erstatt den 2 -deriverte med sin numeriske ekvivalent osv. Anta at
              f(t) er et enhetssprang ved t=0.<span class="katex"
                >\rightarrow</span
              >f(t) = 1. Lag et program som beregner (simulerer) systemet for
              verdier av t mellom 0 og 10 sekunder. Test følgende tidskritt T.
              T= 0.01, T = 0.1, T =1.0 sek Skisser (plot) løsningen x(t) som
              programmet beregner. Kommenter hva som skjer når T øker.</em
            >
          </p>
          <p>
            Benytter Eulers bakovermetode og setter inn for den første og andre
            deriverte.
          </p>
          <p>
            <span class="katex">\dot{X} = \frac{X_k - X_{k-1}}{T}</span>
            <span class="i2 katex"
              >\ddot{X} = \frac{X_k - 2X_{k-1} + X_{k-2}}{T}</span
            >
          </p>
          <p>
            Setter inn i 1 og løser mhp Xk.
            <span class="katex"
              >\frac{X_k - 2X_{k-1} + X_{k-2}}{T^2} + 0.8 \frac{X_k-X_{k-1}}{T}
              + 4X_k = 0.1F_k</span
            >
          </p>

          <p>
            Løser med hensyn på Xk. Får nå den numeriske ligningen;
            <span class="katex"
              >X_k = \frac{0.1T^2F_k + (0.8T+2)X_{k-1} -
              X_{k-2}}{(1+0.8T+4T^2)}</span
            >
          </p>

          <p>Fk - Påtrykt signal.</p>
          <p>
            Fk = 1 når f(t) er et enhetssprang, Fk = sin(2*T*k) når f(t) er et
            sinussignal på 2 rad/s. Benytter at tiden t = k*T
          </p>
          <p><strong>Gitt følgende integral</strong></p>
          <p>Beregn hva det korrekte svaret er når : a= 0 b= 4</p>
          <p>
            <span class="katex">y = \int_{a}^{b} f(t) dt</span>
            <span class="i2 katex">f(t) = 50t^4+20t^3-3t^2+4t-10</span>
            <span class="katex"
              >=\Big[ \frac{50}{4+1}t^{4+1} + \frac{20}{3+1}t^{3+1} -
              \frac{3}{2+1}t^{2+1}+\frac{4}{1+1}t^{1+1}-\frac{10}{0+1}t^{0+1}
              \Big]_{0}^{4} = 11448</span
            >
          </p>

          <p>
            <strong>Tustins metode</strong> tar utgangspunkt i følgende
            sammenheng:
            <span class="katex"
              >y_k = y_{k-1} + \frac{T}{2}(f_k + f_{k-1})</span
            >
            Når vi kjenner T og beregner funksjonsverdien ved k og k-1 får vi
            arealet av en skive. Summerer alle ”skivene” fra start til stopp
            punktet. Får da totalt areal. Ser at Tustins metode blir mer
            nøyaktig med økende antall skiver (n). Høyere n -> lavere T -> bedre
            nøyaktighet.
          </p>

          <p>
            <strong>Simpsons metode</strong>
            <span class="katex"
              >y_k = y_{k-1} + \frac{T}{3}(f_{2k} + 4f_{2k+1} + f_{2k+2})</span
            >
            <span class="katex"> 0 \leq k \lt \dfrac{n}{2} </span> , n = antall
            skiver, må være et like tall. Simpsons metode er mer nøyaktig enn
            Tustin.
          </p>

          <p>
            <em
              ><strong>Shannon-Nyquist </strong>Forklar kort hva Shannon-Nyquist
              samplingsteorem beskriver.Anta at man sampler musikk med 20kHz.
              Hva er den høyeste frekvensen man vil sitte igjen med? Anta at det
              ligger en tone ved 16kHz når samplingen gjennomføres. Hva skjer
              med den? Hvilken frekvens «dukker» den opp som? Hvordan unngår man
              aliasfrekvenser ved sampling?</em
            >
          </p>
          <p>
            Samplingsteoremet sier at vi må sample minst dobbelt så hurtig som
            den høyeste frekvensen i signalet vi ønsker å gjenskape etter
            sampling. <span class="katex">F_s \geq 2F_{max}</span> Det betyr at
            vi aldri vil sitte igjen med høyere frekvenser enn Fs/2 (Nyquist
            frekvensen) i det samplede signalet. Hvis Fmax= 20kHz vil vi ikke
            sitte igjen med høyere frekvenser enn 10kHz.Et 16kHz signal vil
            dukke opp som en aliasfrekvens på: 20kHz – 16kHz = 4kHz. Dukker opp
            som en 4kHz frekvens som aldri var der originalt. (Falsk frekvens).
            Man unngår problemet med aliasfrekvenser ved å filtrere bor alle
            frekvenser over Fs/2 før sampling. Benytter da et lavpassfilter som
            demper alle frekvenser over Fs/2. Anti-alias filteret bør ha en
            cut-off frekvens som er noe lavere enn Fs/2.
          </p>

          <h2>Greit å vite</h2>
          <p>
            <strong>Bode-diagram:</strong> Gm = forsterkningsmargin =
            <span class="katex">\Delta K</span>, Pm = Fasemargin =
            <span class="katex">\psi</span>, K = forsterkning
          </p>

          <p>Faseforskyvning = <span class="katex">\phi</span></p>

          <p>
            <strong>Ved sprangrespons</strong> må man benytte M(s).
            <span class="katex">M(s) = \dfrac{a(s)}{1+a(s)}</span>. Maks
            oversving burde være på 1.20 (20%)
          </p>

          <p>
            <strong>Beregning av dB-verdier</strong>
            <span class="katex">K(db) = 20log_{10}(K)</span>. Legg merke til at
            <span class="katex"> X \cdot 2 \rightarrow 6 dB</span>,
            <span class="i2 katex"> X \cdot 0.5 \rightarrow -6 dB</span>,
            <span class="i2 katex"> X \cdot 10 \rightarrow 20 dB</span>,
            <span class="i2 katex"> X \cdot 0.1 \rightarrow -20 dB</span>
          </p>
        </div>
      </section>
    </div>
    <div class="wrapper">
      <section><div class="row"></div></section>
      <section><div class="row"></div></section>
      <section><div class="row"></div></section>
    </div>
    <div class="wrapper" page="4">
      <section><div class="row"></div></section>
      <section><div class="row"></div></section>
      <section><div class="row"></div></section>
    </div>
    <link rel="stylesheet" href="css/katex.min.css" />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Mono|PT+Serif+Caption:400,400i&amp;subset=latin-ext"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700,700i&amp;subset=latin-ext"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Mono&amp;subset=latin-ext"
      rel="stylesheet"
    />
    <script src="js/app.js"></script>
  </body>
</html>
